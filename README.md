# Simplified GRPC tutorial in GO


## I've made an Extremely Simplified grpc tutorial inspired by:
https://developers.google.com/protocol-buffers/docs/gotutorial 

Hopefully I've added enough helpful comments in the code 
so that you can wrap your head around grpc in go very quickly.

The most important files to look at are:
- ./chat/chat.go
- ./chat/chat_grpc.pb.go (for registration refrerences, do not edit this file)
- server.go (infinitely waits on 9000 for rpc calls)
- client.go (sends a basic rpc call to the server)


run it!
```
terminal 1:
go run server.go


terminal 2:
while true; do go run client.go; done
(CTRL C to exit)

```

![img.png](img.png)


## Dev setup for rebuilding:
```
BREW:
brew install protobuf

check:
protoc --version
(libprotoc 3.21.9 as of Fri 18 Nov 2022 16:29:04 PST)


check envvars:
export GOPATH="$HOME/go"
export GO_PATH="$HOME/go"
export GOROOT=/usr/local/go/bin/go
export GOBIN=$GOPATH/bin
export GO111MODULE=on
export PATH="$PATH:$GOROOT:$GOPATH:$GOBIN"
^ these needs to be in .zshrc or .bash_profile (depending on your shell)

do:
go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest
go install google.golang.org/protobuf/cmd/protoc-gen-go@latest


go get
go mod tidy


# to gen *pb.go
# from official https://grpc.io/docs/languages/go/quickstart/#regenerate-grpc-code >>
protoc --go_out=chat --go_opt=paths=source_relative \
    --go-grpc_out=chat --go-grpc_opt=paths=source_relative \
    chat.proto
    
```
if you've installed go through homebrew:

```
pm@m1 rclient % go env
GO111MODULE=""
GOARCH="arm64"
GOBIN=""
GOCACHE="/Users/pm/Library/Caches/go-build"
GOENV="/Users/pm/Library/Application Support/go/env"
GOEXE=""
GOEXPERIMENT=""
GOFLAGS=""
GOHOSTARCH="arm64"
GOHOSTOS="darwin"
GOINSECURE=""
GOMODCACHE="/Users/pm/go/pkg/mod"
GONOPROXY=""
GONOSUMDB=""
GOOS="darwin"
GOPATH="/Users/pm/go"
GOPRIVATE=""
GOPROXY="https://proxy.golang.org,direct"
GOROOT="/opt/homebrew/Cellar/go/1.19.3/libexec"
GOSUMDB="sum.golang.org"
GOTMPDIR=""
GOTOOLDIR="/opt/homebrew/Cellar/go/1.19.3/libexec/pkg/tool/darwin_arm64"
GOVCS=""
GOVERSION="go1.19.3"
GCCGO="gccgo"
AR="ar"
CC="clang"
CXX="clang++"
CGO_ENABLED="1"
GOMOD="/Users/pm/projects/k8smd/go.mod"
GOWORK=""
CGO_CFLAGS="-g -O2"
CGO_CPPFLAGS=""
CGO_CXXFLAGS="-g -O2"
CGO_FFLAGS="-g -O2"
CGO_LDFLAGS="-g -O2"
PKG_CONFIG="pkg-config"
GOGCCFLAGS="-fPIC -arch arm64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/_c/c1qdzth90450b184pskhj65h0000gn/T/go-build3800080048=/tmp/go-build -gno-record-gcc-switches -fno-common"
```



## Exercise:
- You should try modifying the message
- Add another method/feature and re run protoc  



## Other helpful resources:


https://grpc.io/blog/vendasta/
https://stackoverflow.com/questions/43682366/how-is-grpc-different-from-rest
https://thenewstack.io/grpc-lean-mean-communication-protocol-microservices/
https://grpc.io/docs/languages/go/quickstart/#regenerate-grpc-code
https://stackoverflow.com/questions/57700860/error-protoc-gen-go-program-not-found-or-is-not-executable
https://github.com/protocolbuffers/protobuf
https://github.com/protocolbuffers/protobuf/releases
https://grpc.io/docs/languages/go/quickstart/
https://stackoverflow.com/questions/61666805/correct-format-of-protoc-go-package



